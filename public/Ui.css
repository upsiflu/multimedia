.dropdown {
    position: relative;
}

.dropdown>.summary {
    /* Make sure to give it a tabindex=1 attribute so it's focusable */
    background   : #96ff96;
    border-radius: 1.5px;
    display      : inline;
    cursor       : pointer;
}

.dropdown+.dropdown>.summary {
    background: #ffb5ff;
}



.dropdown:has(+.dropdown)>.summary {
    background: #ffd5bd;
}

.dropdown:has(alternate)>.summary {
    background   : rgba(255, 255, 255, 0.8);
    outline      : 0.5px solid black;
    box-shadow   : 0.2em 0.2em black;
    padding-left : 0.3em;
    padding-right: 0.3em;
    border-radius: 0;
}

.left .legend-container:has(alternate) {
    transform: translate(0.5em, -0.8em)
}

.right .legend-container:has(alternate) {
    transform: translate(-1.4em, -0.4em)
}

a:visited:not(:active) {
    color                : blue;
    text-decoration-color: #a0f;
}

.dropdown>.summary:active {
    outline       : 1px dotted currentColor;
    outline-offset: -0.5px;
}

.dropdown>.summary>p {
    display: inline;
}

.dropdown>.popup>p {
    display: inline-block;
    padding: 0.2rem;
    margin : 0;
}

.dropdown>.summary:focus,
.dropdown>.summary:focus-within,
.dropdown>.summary:active {
    filter       : invert(1);
    background   : yellow;
    outline-color: yellow;
}

.dropdown:not(:focus-within)>.summary~* {
    opacity       : 0;
    pointer-events: none;
    filter        : blur(2px)
}

a.popup:not(:hover) a {
    text-decoration: none;
}

.dropdown>.summary~* {
    position     : absolute;
    border       : 0.5px solid currentColor;
    background   : rgb(255, 250, 156);
    padding      : 0 0.2rem;
    box-shadow   : 6px 6px currentColor;
    min-width    : 100%;
    width        : max-content;
    max-width    : 24rem;
    border-radius: 2px;
    transition   : all .2s;
    left         : 50%;
    top          : 1.25em;
}

.dropdown>.summary:focus~* {
    position     : absolute;
    border       : 0.5px solid currentColor;
    background   : rgb(255, 250, 156);
    padding      : 0 0.2rem;
    box-shadow   : 6px 6px currentColor;
    min-width    : 100%;
    width        : max-content;
    max-width    : 24rem;
    border-radius: 2px;
    transition   : all .2s;
    left         : 50%;
    top          : 1.25em;
    z-index      : 14
}

:is(.right, .left):has(:focus) {
    z-index: 5;
}

.sample .dropdown>.summary~* {
    max-width: 12rem;
}

.carousel .dropdown>.summary~* {
    max-width: 14em;
}

/*********************/

.bevelled.yellow {
    border    : 3px outset #ed3;
    outline   : 0.5px solid black;
    background: #dc3;
}

.bevelled.yellow:active {
    border    : 3px outset #ed3;
    outline   : 0.5px solid black;
    background: #dc3;
    border    : 3px inset #cb0;
    background: #ba0;
}

.bevelled.yellow .summary:focus,
.bevelled.yellow .summary:focus-within {
    border    : 3px inset #cb0;
    background: #ba0;
}

/*********************/


p:only-child,
.legend-container>p {
    display: inline;
}

.legend-container>.dropdown>.summary {
    white-space: nowrap;
}

.legend-container>*:after,
.legend-container>*:before {
    content    : ' ';
    white-space: nowrap;
}

/*********************/

.left>.legend,
.right>.legend {
    width    : min-content;
    max-width: 100%;
}

.left {
    align-items: flex-end;
}

@media only screen and (min-width: 800px) {

    .left>.legend,
    .right>.legend {
        width: max-content;
    }

    .left,
    .right {
        overflow: visible;
    }
}

@media only screen and (min-width: 1600px) {

    .scene>ul:has(single-column) {
        width  : calc(50vw - 0.3em);
        display: inline-block;
    }
}

@media only screen and (min-width: 2400px) {

    .scene>ul:has(single-column) {
        width  : calc(33.333vw - 0.3em);
        display: inline-block;
    }
}

.left,
.right {
    z-index: 0;
}


.right .legend-container {
    float: right
}

.center {
    z-index: 1;
}



:has(:is(.left, .right) :is(:hover, :focus))>.center {
    z-index: -1 !important;
}

img {
    pointer-events: none;
}

.url {
    display      : inline-flex;
    border       : 0.5px solid black;
    border-radius: 1em;
    padding      : 0.2em 0.8em;
    box-shadow   : inset 0.3em 0.3em black;
    align-items  : baseline;
}

.url>.dropdown>.summary {
    white-space: nowrap;
}



@font-face {
    font-family: 'bpdotsminusbold';
    src        : url('bpdotsminusbold-webfont.woff2') format('woff2'),
        url('bpdotsminusbold-webfont.woff') format('woff');
    font-weight: normal;
    font-style : normal;

}

.url>p,
.url>.dropdown>.summary,
code {
    font-family: 'bpdotsminusbold', monospace;
}

.url>p {
    margin: 0;
}

.carousel {
    display        : flex;
    height         : 56rem;
    max-height     : 60vh;
    overflow-x     : scroll;
    overflow-y     : hidden;
    margin         : 0 auto;
    width          : 100vw;
    justify-content: center;
    outline        : 4px ridge silver;
    outline-offset : 2px;
    max-width      : max-content;
}

.carousel>.scrolling {
    display       : flex;
    flex-direction: row;
    align-items   : stretch;
}

.carousel>.scrolling>* {
    height     : 100%;
    flex-shrink: 0;
}

.carousel>.scrolling>*:not(:last-child) {
    margin-right: 2px;
}

.dropdown>.summary:has(img) {
    display: block;
}

.carousel img,
.carousel :has(img):not(.popup) {
    height: 100%;
}

.carousel .dropdown>.summary~* {
    left     : auto;
    min-width: calc(100% - 0.8em);
    top      : auto;
    bottom   : 0.88em;
    right    : 0.4em;
}